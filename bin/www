#!/usr/bin/env node
// filepath: bin/www
const app = require('../app');
const http = require('node:http');

const port = process.env.PORT || 3000;
app.set('port', port);

const server = http.createServer(app);
server.listen(port);

server.on('listening', () => {
  console.log(`Server running on port ${port}`);
});

server.on('error', (error) => {
  if (error.syscall !== 'listen') throw error;
  console.error(`Port ${port} error: ${error}`);
  process.exit(1);
});